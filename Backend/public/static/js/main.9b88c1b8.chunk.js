(this["webpackJsonpart-1000"]=this["webpackJsonpart-1000"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(11),c=n.n(a),i=n(66),o=n(102),u=n(14),l={loggedInUser:null,users:[]};var j=n(65),d={songs:[],selectedSong:null};var p=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,b=Object(i.b)({userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case"SET_USER":case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{loggedInUser:t.user});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{loggedInUser:null});case"SIGNUP":return Object(u.a)(Object(u.a)({},e),{},{loggedInUser:t.user,users:t.users});case"UPDATE_USER":return Object(u.a)(Object(u.a)({},e),{},{users:t.users,loggedInUser:t.user});case"RESET_PASSWORD":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});default:return e}},songModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_SONGS":return Object(u.a)(Object(u.a)({},e),{},{songs:t.songs});case"SET_SONG":return Object(u.a)(Object(u.a)({},e),{},{selectedSong:t.song});case"ADD_SONG":return Object(u.a)(Object(u.a)({},e),{},{songs:[].concat(Object(j.a)(e.songs),[t.song])});case"UPDATE_SONG":return Object(u.a)(Object(u.a)({},e),{},{songs:[].concat(Object(j.a)(e.songs.filter((function(e){return t.song._id!==e._id}))),[t.song])});case"REMOVE_SONG":return Object(u.a)(Object(u.a)({},e),{},{songs:e.songs.filter((function(e){return e._id!==t.songId}))});default:return e}}}),h=Object(i.d)(b,p(Object(i.a)(o.a))),O=n(30),m=n(22),f=n(16),g=n(2),x=function(e){var t=e.song;return Object(g.jsx)("div",{className:"song-preview flex",children:Object(g.jsxs)(m.b,{to:"/song/".concat(t._id),children:[Object(g.jsx)("div",{className:"content-img-card",children:Object(g.jsx)("img",{src:t.imgUrl,alt:""})}),Object(g.jsxs)("div",{className:"content-card flex column",children:[Object(g.jsx)("h4",{children:t.title}),Object(g.jsx)("p",{children:t.singer.fullname}),Object(g.jsx)("h5",{children:t.year})]})]})})},v=function(e){var t=e.songs;return Object(g.jsx)("section",{className:"song-list-container",children:Object(g.jsx)("div",{className:"song-list",children:t.map((function(e){return Object(g.jsx)(x,{song:e},e._id)}))})})},w=n(7),y=n.n(w),S=n(13),N=n(105),T="/api/",k=n.n(N).a.create({withCredentials:!0}),C=function(e,t){return _(e,"GET",t)},U=function(e,t){return _(e,"POST",t)},E=function(e,t){return _(e,"PUT",t)},I=function(e){return _(e,"DELETE")};function _(e){return M.apply(this,arguments)}function M(){return(M=Object(S.a)(y.a.mark((function e(t){var n,r,s,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,k({url:"".concat(T).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:if(e.prev=9,e.t0=e.catch(2),console.dir(e.t0),!e.t0.response||401!==e.t0.response.status){e.next=15;break}throw window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var A={query:function(e){return L.apply(this,arguments)},getById:function(e){return D.apply(this,arguments)},save:function(e){return G.apply(this,arguments)},remove:function(e){return P.apply(this,arguments)}};function L(){return(L=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("song",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("song/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("song/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=6;break}return e.next=3,E("song/".concat(t._id),t);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",U("song",t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.query(e);case 3:r=t.sent,n({type:"SET_SONGS",songs:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Song Actions: err in loaded Songs",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.getById(e);case 3:r=t.sent,n({type:"SET_SONG",song:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Song Actions: err in selected Song",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var R={login:function(e){return F.apply(this,arguments)},logout:function(){return Z.apply(this,arguments)},signup:function(e){return q.apply(this,arguments)},query:function(){return C("user")},remove:function(e){return I("user/".concat(e))},update:function(e){return Y.apply(this,arguments)},getLoggedinUser:$};function F(){return(F=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",W(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("auth/signup",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",W(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,U("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("user/".concat(t._id),t);case 2:t=e.sent,$()._id===t._id&&W(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function H(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.query();case 3:n=e.sent,t({type:"SET_USERS",users:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("User Actions: err in loaded users",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}window.userService=R;var J=function(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e.songModule})).songs;return Object(r.useEffect)((function(){e(V())}),[]),Object(r.useEffect)((function(){e(H())}),[]),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"main-container",children:Object(g.jsx)("section",{className:"art-container",children:Object(g.jsx)("main",{children:Object(g.jsx)(v,{songs:t})})})})})},X=n(106),K=n.n(X),Q=function(){return Object(g.jsxs)("div",{className:"carousel-container",children:[Object(g.jsx)("div",{className:"main-hero-content",children:Object(g.jsx)("h1",{children:"YOUTUNE"})}),Object(g.jsxs)(K.a,{className:"heros-container",children:[Object(g.jsx)("img",{src:"//cdn.pixabay.com/photo/2015/01/20/13/13/samsung-605439_960_720.jpg",alt:"samsung"}),Object(g.jsx)("img",{src:"//cdn.pixabay.com/photo/2015/10/08/00/24/woman-977020__340.jpg",alt:"woman with headphones"}),Object(g.jsx)("img",{src:"//cdn.pixabay.com/photo/2020/01/31/07/53/man-4807395_960_720.jpg",alt:"man"}),Object(g.jsx)("img",{src:"//cdn.pixabay.com/photo/2015/10/12/15/13/boy-984293_960_720.jpg",alt:"boy"}),Object(g.jsx)("img",{src:"//cdn.pixabay.com/photo/2016/11/19/10/01/woman-1838412__340.jpg",alt:"woman-1"})]})]})},ee=n(209),te=function(){return Object(g.jsx)("div",{className:"loader",children:Object(g.jsx)(ee.a,{})})},ne=n(25),re=n(26),se=n(28),ae=n(27),ce=n(218),ie=n(84),oe=n.n(ie),ue=function(e){var t=e.txt;return Object(g.jsx)("div",{className:"empty-state",children:t})},le=n(210),je=n(182),de=n(211),pe=n(212),be=n(110),he=n.n(be),Oe=n(111),me=n.n(Oe),fe=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={itemsIsOpen:[!1]},e.showMore=function(t){var n=e.state.itemsIsOpen.map((function(e){return!1}));n[t]=!0,e.setState({itemsIsOpen:n})},e.showLess=function(t){var n=Object(j.a)(e.state.itemsIsOpen);n[t]=!1,e.setState({itemsIsOpen:n})},e}return Object(re.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.table.data.map((function(){return!1}));this.setState({itemsIsOpen:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.table,r=t.emptyTxt,s=this.state.itemsIsOpen;return Object(g.jsx)(g.Fragment,{children:n.data.length?Object(g.jsx)(le.a,{children:n.data.map((function(t,r){return Object(g.jsxs)(je.a,{children:[Object(g.jsxs)("section",{className:"item-header",onClick:function(){return s[r]?e.showLess(r):e.showMore(r)},children:[Object(g.jsx)(de.a,{title:t.details[0],className:"item-name",primary:t.details[0]}),s[r]?Object(g.jsx)(he.a,{className:"item-expand-btn"}):Object(g.jsx)(me.a,{className:"item-expand-btn"})]}),Object(g.jsxs)(pe.a,{in:s[r],timeout:"auto",unmountOnExit:!0,className:"item-collpasible",children:[t.btns.length&&Object(g.jsx)("section",{className:"item-btns",children:t.btns.map((function(e){return e}))}),Object(g.jsx)("table",{children:Object(g.jsx)("tbody",{children:t.details.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{title:n.columns[t],children:n.columns[t]}),Object(g.jsx)("td",{title:e,children:e})]},"".concat(r,"-").concat(t))}))})})]})]},"i-".concat(r))}))}):Object(g.jsx)(ue,{txt:r})})}}]),n}(r.Component),ge=n(213),xe=n(214),ve=n(215),we=n(216),ye=n(217),Se=function(e){var t=e.table,n=e.emptyTxt;return Object(g.jsx)(g.Fragment,{children:t.data.length?Object(g.jsxs)(ge.a,{children:[Object(g.jsx)(xe.a,{children:Object(g.jsx)(ve.a,{children:t.columns.map((function(e,t){return Object(g.jsx)(we.a,{title:e,children:e},"h-".concat(t))}))})}),Object(g.jsx)(ye.a,{children:t.data.map((function(e,t){return Object(g.jsx)(ve.a,{children:e.details.map((function(e,n){return Object(g.jsx)(we.a,{title:e,children:e},"".concat(t,"-").concat(n))}))},"r".concat(t))}))})]}):Object(g.jsx)(ue,{txt:n})})},Ne=function(e){var t=e.songs,n=e.removeSong,r=e.isMobileView;return Object(g.jsxs)("section",{className:"user-songs",children:[Object(g.jsxs)("section",{className:"header",children:[Object(g.jsx)("h3",{children:"Songs"}),Object(g.jsx)(m.b,{to:"/song/add",children:Object(g.jsx)(ce.a,{className:"song-add-btn",variant:"outlined",children:"Add"})})]}),Object(g.jsx)("section",{className:"content",children:r?Object(g.jsx)(fe,{table:{columns:["Thumbnail","Title","Year"],data:t.map((function(e){return{details:[e.title,Object(g.jsx)("img",{className:"song-img",src:e.imgUrl,alt:e.imgUrl}),e.year],btns:[Object(g.jsx)(ce.a,{onClick:function(){return n(e._id)},children:Object(g.jsx)(oe.a,{})})]}}))},emptyTxt:"You don't have any songs yet. You can add through the 'Add' button above."}):Object(g.jsx)(Se,{table:{columns:["Image","Title","Year","Delete"],data:t.map((function(e){return{details:[Object(g.jsx)("img",{className:"song-img",src:e.imgUrl,alt:e.imgUrl}),e.title,e.year,Object(g.jsx)(ce.a,{onClick:function(){return n(e._id)},children:Object(g.jsx)(oe.a,{})})]}}))},emptyTxt:"You don't have any songs yet. You can add through the 'Add' button above."})})]})},Te=n(113),ke=n.n(Te),Ce=n(60),Ue=n(224),Ee=n(223),Ie=n(225),_e=n(221),Me=n(78),Ae=n(77),Le=n.n(Ae),De=n(179),Pe=Object(De.a)({switchBase:{color:Me.a[300],"&$checked":{color:Me.a[400]},"&$checked + $track":{backgroundColor:Me.a[400]}},checked:{},track:{}})(Ue.a),Ge=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={email:"",fullname:"",password:"",isSinger:!1,isValidInput:!1,imgUrl:"",orders:[],isTooltipOpen:!1},e.handleChange=function(t){var n=t.target,r=n.name,s="isSinger"===r?n.checked:n.value;e.setState(Object(Ce.a)({},r,s),(function(){var t=e.state,n=t.email,r=t.password,s=e.validateEmail(n)&&e.validatePassword(r);e.setState({isValidInput:s})}))},e.onImgChange=function(t){e.setState({imgUrl:t})},e.onSubmit=function(t){t.preventDefault();var n=e.state,r={email:n.email,fullname:n.fullname,password:n.password,isSinger:n.isSinger,imgUrl:n.imgUrl,orders:n.orders};e.props.user?(r._id=e.props.user._id,e.props.updateUser(r),e.props.editModeOff()):(r.isAdmin=!1,e.props.signup(r))},e.validatePassword=function(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(String(e).toLowerCase())},e.openTooltip=function(){return e.setState({isTooltipOpen:!0})},e.closeTooltip=function(){return e.setState({isTooltipOpen:!1})},e}return Object(re.a)(n,[{key:"componentDidMount",value:function(){if(this.props.user){var e=this.props.user,t=e.email,n=e.fullname,r=e.password,s=e.isSinger,a=e.imgUrl,c=e.orders;this.setState({email:t,fullname:n,password:r,isSinger:s,isValidInput:!0,imgUrl:a,orders:c})}}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.fullname,r=e.password,s=e.isSinger,a=e.isValidInput,c=e.isTooltipOpen,i=this.props,o=i.cancel,u=i.editModeOff;return Object(g.jsx)("section",{className:"user-form",children:Object(g.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(g.jsxs)("section",{className:"form-inputs",children:[Object(g.jsx)(Ee.a,{label:"Email",variant:"outlined",name:"email",value:t,onChange:this.handleChange,required:!0}),Object(g.jsx)(Ee.a,{label:"Full name",variant:"outlined",name:"fullname",value:n,onChange:this.handleChange,required:!0}),Object(g.jsxs)("section",{children:[Object(g.jsx)(Ee.a,{label:"Password",variant:"outlined",name:"password",value:r,onChange:this.handleChange,required:!0}),Object(g.jsx)(Ie.a,{open:c,onClick:this.openTooltip,onOpen:this.openTooltip,onClose:this.closeTooltip,placement:"left-start",title:Object(g.jsx)("p",{style:{fontSize:"10px",width:"120px",fontFamily:"neuzeit"},children:"Minimum eight characters, at least one letter and one number."}),children:Object(g.jsx)(Le.a,{})})]})]}),Object(g.jsx)("section",{className:"form-img",children:Object(g.jsx)(_e.a,{control:Object(g.jsx)(Pe,{checked:s,onChange:this.handleChange,name:"isSinger"}),label:"I'm a singer"})}),Object(g.jsxs)("section",{className:"form-btns",children:[Object(g.jsx)(ce.a,{variant:"outlined",onClick:u||o,children:"Cancel"}),Object(g.jsx)(ce.a,{variant:"outlined",type:"submit",disabled:!a,children:"Submit"})]})]})})}}]),n}(r.Component),Ve=n(226),ze=function(e){var t=e.imgUrl,n=e.fullname;return t?Object(g.jsx)("img",{className:"avatar",src:t,alt:"avatar"}):Object(g.jsx)(Ve.a,{src:"/img",alt:n})},Re=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={isEditing:!1},e.editModeOn=function(){return e.setState({isEditing:!0})},e.editModeOff=function(){return e.setState({isEditing:!1})},e}return Object(re.a)(n,[{key:"render",value:function(){var e=this.props.user,t=e.email,n=e.password,r=e.fullname,s=e.imgUrl,a=this.state.isEditing;return Object(g.jsx)("section",{className:"user-details ".concat(a?"edit-mode":""),children:a?Object(g.jsx)(Ge,{user:this.props.user,updateUser:this.props.updateUser,editModeOff:this.editModeOff}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["Hello, ",r]}),Object(g.jsx)(ze,{imgUrl:s,fullname:r}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{children:"Email:"}),Object(g.jsx)("span",{children:t})]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{children:"Full name:"}),Object(g.jsx)("span",{children:r})]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{children:"Password:"}),Object(g.jsx)("span",{children:n})]})]}),Object(g.jsx)(ce.a,{variant:"outlined",onClick:this.editModeOn,children:Object(g.jsx)(ke.a,{})})]})})}}]),n}(r.Component),Fe=function(e){var t=e.tabs,n=e.currTab,r=e.setCurrTab;return Object(g.jsx)("ul",{className:"desktop-view",children:t.map((function(e,t){return Object(g.jsx)("li",{onClick:function(){return r(e)},className:n===e?"active":"",children:"logout"===e?"Logout":"User ".concat(e)},"t".concat(t))}))})},qe=n(222),Ze=function(e){var t=e.currTab,n=e.setCurrTab,r=e.tabs;return Object(g.jsx)("div",{className:"mobile-view",children:Object(g.jsx)(Ee.a,{value:t,name:"currTab",select:!0,variant:"outlined",onChange:function(e){var t=e.target.value;n(t)},children:r.map((function(e,n){return Object(g.jsx)(qe.a,{value:e,className:t===e?"active":"",children:"logout"===e?"Logout":"User ".concat(e)},"t".concat(n))}))})})},$e=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={currTab:"details",songs:[],isMobileView:!1},e.setSongs=Object(S.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.props.userOrders.forEach(function(){var e=Object(S.a)(y.a.mark((function e(t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getById(t.songId);case 2:r=e.sent,n.push(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.setState({songs:n});case 4:case"end":return t.stop()}}),t)}))),e.setCurrTab=function(t){"logout"===t&&(e.props.logout(),t="details"),e.setState({currTab:t}),e.props.history.push("/account/".concat(t))},e.getCurrTab=function(){var t=e.state,n=t.currTab,r=t.isMobileView,s=e.props,a=s.user,c=s.userSongs,i=s.removeSong,o=s.updateUser;switch(n){case"details":return Object(g.jsx)(Re,{user:a,updateUser:o});case"songs":return Object(g.jsx)(Ne,{songs:c,removeSong:i,isMobileView:r});default:return Object(g.jsx)(Re,{user:a,updateUser:o})}},e.tabs=e.props.user.isSinger?["details","songs","logout"]:["details","logout"],e}return Object(re.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(y.a.mark((function e(){var t,n,r=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=function(){return window.innerWidth<900?r.setState({isMobileView:!0}):r.setState({isMobileView:!1})})(),window.addEventListener("resize",(function(){return t()})),this.props.history.push("/account/".concat(this.state.currTab)),(n=this.props.tab)&&this.tabs.includes(n)&&this.setCurrTab(n),e.next=8,this.setSongs();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.setResponsiveness()}))}},{key:"render",value:function(){var e=this.state,t=e.currTab,n=e.isMobileView;return Object(g.jsxs)("div",{className:"user-dashboard",children:[Object(g.jsx)("section",{className:"tabs",children:n?Object(g.jsx)(Ze,{currTab:t,setCurrTab:this.setCurrTab,tabs:this.tabs}):Object(g.jsx)(Fe,{currTab:t,setCurrTab:this.setCurrTab,tabs:this.tabs})}),Object(g.jsx)("section",{className:"tab-container",children:this.getCurrTab()})]})}}]),n}(r.Component),Be=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",isValidInput:!1,isTooltipOpen:!1},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState(Object(Ce.a)({},r,s),(function(){var t=e.state,n=t.email,r=t.password,s=e.validateEmail(n)&&e.validatePassword(r);e.setState({isValidInput:s})}))},e.login=function(t){t.preventDefault();var n=e.state,r=n.email,s=n.password;e.props.login({email:r,password:s})},e.validatePassword=function(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(String(e).toLowerCase())},e.openTooltip=function(){return e.setState({isTooltipOpen:!0})},e.closeTooltip=function(){return e.setState({isTooltipOpen:!1})},e}return Object(re.a)(n,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=e.isValidInput,s=e.isTooltipOpen;return Object(g.jsx)("section",{className:"login-form",children:Object(g.jsxs)("form",{onSubmit:this.login,children:[Object(g.jsx)(Ee.a,{label:"Email",variant:"outlined",name:"email",value:t,onChange:this.handleChange,required:!0}),Object(g.jsxs)("section",{children:[Object(g.jsx)(Ee.a,{label:"Password",variant:"outlined",name:"password",value:n,onChange:this.handleChange,required:!0}),Object(g.jsx)(Ie.a,{open:s,onClick:this.openTooltip,onOpen:this.openTooltip,onClose:this.closeTooltip,placement:"left-start",title:Object(g.jsx)("p",{style:{fontSize:"10px",width:"120px",fontFamily:"neuzeit"},children:"Minimum eight characters, at least one letter and one number."}),children:Object(g.jsx)(Le.a,{})})]}),Object(g.jsx)(m.b,{to:"/account/reset",children:"Forgot your password?"}),Object(g.jsx)("section",{className:"form-btns",children:Object(g.jsx)(ce.a,{variant:"outlined",type:"submit",disabled:!r,children:"Login"})})]})})}}]),n}(r.Component),Ye=function(e){var t=e.login;return Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("h3",{children:"Log In"}),Object(g.jsx)(Be,{login:t}),Object(g.jsx)(m.b,{to:"/account/signup",children:"Create account"})]})},We=function(e){var t=e.signup,n=e.history;return Object(g.jsxs)("div",{className:"signup",children:[Object(g.jsx)("h3",{children:"Create account"}),Object(g.jsx)(Ge,{signup:t,cancel:function(){return n.push("/account/login")}})]})},He=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ne.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={currTab:"login"},e.setCurrTab=function(t){e.setState({currTab:t}),e.props.history.push("/account/".concat(t))},e.getCurrTab=function(){var t=e.state.currTab,n=e.props,r=n.login,s=n.signup,a=n.history;switch(t){case"login":return Object(g.jsx)(Ye,{login:r,history:a});case"signup":return Object(g.jsx)(We,{signup:s,history:a});default:return Object(g.jsx)(Ye,{login:r,history:a})}},e}return Object(re.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.tab;e&&this.setCurrTab(e)}},{key:"componentDidUpdate",value:function(e){e.tab!==this.props.tab&&this.setCurrTab(this.props.tab)}},{key:"render",value:function(){return this.getCurrTab()}}]),n}(r.Component),Je=function(e){Object(se.a)(n,e);var t=Object(ae.a)(n);function n(){return Object(ne.a)(this,n),t.apply(this,arguments)}return Object(re.a)(n,[{key:"componentDidMount",value:function(){if(null!==this.props.loggedInUser){this.props.loadLoggedInUser(),this.props.songs.length||this.props.loadSongs();var e=this.props.match.params.tab;e&&"undefined"!==e||this.props.history.push("/account/login")}}},{key:"render",value:function(){var e=this.props,t=e.loggedInUser,n=e.removeSong,r=e.songs,s=e.login,a=e.logout,c=e.signup;if(t){var i=r?r.filter((function(e){return e.singer._id===t._id})):[],o=t.orders;return Object(g.jsxs)("div",{className:"account-page",children:[Object(g.jsx)("h3",{children:"Account"}),Object(g.jsx)($e,{user:t,userSongs:i,userOrders:o,removeSong:n,logout:a,tab:this.props.match.params.tab,history:this.props.history})]})}return Object(g.jsxs)("div",{className:"account-page",children:[Object(g.jsx)("h3",{children:"Account"}),Object(g.jsx)(He,{login:s,signup:c,history:this.props.history,tab:this.props.match.params.tab})]})}}]),n}(r.Component);var Xe={loadLoggedInUser:function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getLoggedInUser();case 3:(n=e.sent)&&t({type:"SET_USER",user:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("User Actions: err in loaded User",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.login(e);case 3:(r=t.sent)&&n({type:"LOGIN",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("User Actions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.signup(e);case 3:r=t.sent,n({type:"SIGNUP",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("User Actions: err in signUp",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.logout();case 3:t({type:"LOGOUT"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("User Actions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},removeSong:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.remove(e);case 3:n({type:"REMOVE_SONG",songId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("SongActions: err in removeSong",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadSongs:V},Ke=Object(O.b)((function(e){var t=e.userModule,n=e.songModule;return{loggedInUser:t.loggedInUser,songs:n.songs}}),Xe)(Je),Qe=n(114),et=function(e){var t=e.description,n=Object(r.useState)(!1),s=Object(Qe.a)(n,2),a=s[0],c=s[1],i=Object(r.useCallback)((function(){c(!a)}),[]),o=t;return Object(g.jsxs)("p",{children:[a?o:o.substring(0,200)+"...",Object(g.jsx)("button",{onClick:i,children:a?"Read Less":"Read More"})]})},tt=[{path:"/home",component:function(){return Object(g.jsxs)("section",{children:[Object(g.jsx)("div",{className:"home-section",children:Object(g.jsx)(Q,{})}),Object(g.jsx)(J,{})]})}},{path:"/song",component:J},{path:"/singer/:singerId",component:function(){var e=Object(O.c)(),t=Object(O.d)((function(e){return e.songModule})).selectedSong,n=Object(O.d)((function(e){return e.userModule})).users;Object(r.useEffect)((function(){e(V())}),[]),Object(r.useEffect)((function(){e(H())}),[]);var s=function(){var e=t.singer._id;return n.find((function(t){return t._id===e}))}();return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsxs)("div",{className:"contianer-hero",children:[Object(g.jsx)("img",{src:s.imgHero,alt:"",className:"img-hero-artist"}),Object(g.jsxs)("div",{className:"singer-hero-title",children:[Object(g.jsx)("p",{children:s.specializes}),Object(g.jsx)("h1",{children:s.fullname})]})]}),Object(g.jsx)("div",{className:"main-singer",children:Object(g.jsxs)("div",{className:"singer-details flex",children:[Object(g.jsx)("img",{src:s.imgUrl,alt:s.fullname}),Object(g.jsxs)("div",{className:"text-description flex column align-center",children:[Object(g.jsxs)("h4",{children:["About ",s.fullname]}),Object(g.jsx)("p",{children:Object(g.jsx)(et,{description:s.description})}),Object(g.jsx)("br",{})]})]})})]})}},{path:"/song/:songId",component:function(e){var t,n=e.match,s=Object(O.c)(),a=Object(O.d)((function(e){return e.songModule})).selectedSong;return Object(r.useEffect)((function(){(function(){var e=Object(S.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.params.songId,e.next=3,s(z(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n.params.songId]),Object(r.useEffect)((function(){s(V())}),[]),a?Object(g.jsx)("div",{children:a&&Object(g.jsxs)("div",{className:"main",children:[Object(g.jsxs)("section",{className:"main-art-details flex",children:[Object(g.jsx)("div",{className:"imgs flex",children:Object(g.jsx)("div",{className:"content-img",children:Object(g.jsx)("div",{className:"container-img",children:Object(g.jsx)("img",{className:"song-img",src:a.imgUrl,alt:a.imgUrl})})})}),Object(g.jsxs)("div",{className:"content-txt",children:[Object(g.jsxs)("div",{className:"art-details",children:[Object(g.jsx)("p",{children:(null===(t=a.singer)||void 0===t?void 0:t.fullname)||""}),Object(g.jsx)("h1",{children:a.title}),Object(g.jsx)("p",{children:a.year}),Object(g.jsx)("button",{className:"link-btn",children:Object(g.jsx)("a",{href:a.link,children:"Listen \ud83c\udfa7"})})]}),Object(g.jsx)("div",{className:"details-modals"}),Object(g.jsx)("br",{}),Object(g.jsx)("p",{children:"DESCRIPTION"}),Object(g.jsx)("br",{}),Object(g.jsx)("p",{children:a.description})]})]}),Object(g.jsx)("div",{className:"artist-list-details flex  column space-between",children:Object(g.jsxs)(m.b,{to:"/singer/".concat(a.singer._id),children:[Object(g.jsxs)("button",{className:"btn-more-work",children:["More details about ",a.singer.fullname]})," "]})})]})}):Object(g.jsx)(te,{})}},{path:"/account/:tab?",component:Ke}],nt=function(){return Object(g.jsx)("header",{className:"app-header",children:Object(g.jsxs)("nav",{children:[Object(g.jsx)(m.c,{to:"/",children:"Home"})," |",Object(g.jsx)(m.c,{to:"/song",children:"Explore"})," |",Object(g.jsx)(m.c,{to:"/account/:tab?",children:"Account"})]})})};n(174);function rt(){return Object(g.jsx)(m.a,{children:Object(g.jsxs)("div",{className:"app",children:[Object(g.jsx)(nt,{}),Object(g.jsx)("main",{children:Object(g.jsxs)(f.d,{children:[Object(g.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(f.a,{to:"/home"})}}),tt.map((function(e){return Object(g.jsx)(f.b,{exact:!0,component:e.component,path:e.path},e.path)}))]})}),Object(g.jsx)("footer",{})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(O.a,{store:h,children:Object(g.jsx)(rt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),st()}},[[175,1,2]]]);
//# sourceMappingURL=main.9b88c1b8.chunk.js.map